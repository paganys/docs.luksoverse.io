"use strict";(self.webpackChunkcommunity_docs=self.webpackChunkcommunity_docs||[]).push([[2779],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),c=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),p=c(n),f=r,m=p["".concat(s,".").concat(f)]||p[f]||d[f]||i;return n?o.createElement(m,l(l({ref:t},u),{},{components:n})):o.createElement(m,l({ref:t},u))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=p;var a={};for(var s in t)hasOwnProperty.call(t,s)&&(a[s]=t[s]);a.originalType=e,a.mdxType="string"==typeof e?e:r,l[1]=a;for(var c=2;c<i;c++)l[c]=n[c];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3963:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var o=n(7462),r=(n(7294),n(3905));const i={},l="Configure Firewall",a={unversionedId:"mainnet/complete-node-guide/system-setup/firewall-config",id:"mainnet/complete-node-guide/system-setup/firewall-config",title:"Configure Firewall",description:"Now we need to enable ssh in the firewall by allowing incoming connections to the previously configured port.",source:"@site/docs/mainnet/complete-node-guide/3-system-setup/06-firewall-config.md",sourceDirName:"mainnet/complete-node-guide/3-system-setup",slug:"/mainnet/complete-node-guide/system-setup/firewall-config",permalink:"/docs/mainnet/complete-node-guide/system-setup/firewall-config",draft:!1,editUrl:"https://github.com/Luksoverse/community-docs/tree/main/packages/create-docusaurus/templates/shared/docs/mainnet/complete-node-guide/3-system-setup/06-firewall-config.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Set Remote Access on Startup",permalink:"/docs/mainnet/complete-node-guide/system-setup/startup-util"},next:{title:"Set Bruteforce Protection",permalink:"/docs/mainnet/complete-node-guide/system-setup/bruteforce-shield"}},s={},c=[{value:"Uncomplicated Firewall",id:"uncomplicated-firewall",level:4},{value:"3.6.1 General Port Locking",id:"361-general-port-locking",level:3},{value:"3.6.2 Enable SSH Connection",id:"362-enable-ssh-connection",level:3},{value:"TCP Forcing",id:"tcp-forcing",level:4},{value:"Internet Protocol Versioning",id:"internet-protocol-versioning",level:4},{value:"3.6.3 Firewall Checkup",id:"363-firewall-checkup",level:3},{value:"3.6.4 Enable firewall",id:"364-enable-firewall",level:3},{value:"3.6.5 Edit Port Rules",id:"365-edit-port-rules",level:3}],u={toc:c};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"configure-firewall"},"Configure Firewall"),(0,r.kt)("p",null,"Now we need to enable ssh in the firewall by allowing incoming connections to the previously configured port."),(0,r.kt)("h4",{id:"uncomplicated-firewall"},"Uncomplicated Firewall"),(0,r.kt)("p",null,"UFW is a user-friendly command-line interface for managing firewall configurations on Linux systems. It simplifies configuring and maintaining a firewall by providing intuitive commands and options. UFW streamlines the process of setting up and managing firewall rules."),(0,r.kt)("h3",{id:"361-general-port-locking"},"3.6.1 General Port Locking"),(0,r.kt)("p",null,"All outgoing traffic should be enabled by default, as the node should send data packages into the network. However, all incoming traffic should be disabled as we do not know who wants to connect with the node."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo ufw default allow outgoing\nsudo ufw default deny incoming\n")),(0,r.kt)("h3",{id:"362-enable-ssh-connection"},"3.6.2 Enable SSH Connection"),(0,r.kt)("p",null,"If you allow for just the port number, both TCP and UDP protocols will be possible. However, the User Datagram Protocol is connectionless. It offers faster data transmission but does not guarantee reliable, ordered, or error-checked delivery."),(0,r.kt)("h4",{id:"tcp-forcing"},"TCP Forcing"),(0,r.kt)("p",null,"For SSH connections, it is recommended only to allow TCP. SSH uses the TCP protocol for its connections because it relies on reliable and error-checked data transmission. Therefore, TCP is more secure and appropriate for SSH connections instead of leaving the port open to all protocols."),(0,r.kt)("p",null,"We use UFW to allow SSH connections and change ",(0,r.kt)("inlineCode",{parentName:"p"},"<desired-port-number>")," to your port."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo ufw allow <desired-port-number>/tcp\n")),(0,r.kt)("h4",{id:"internet-protocol-versioning"},"Internet Protocol Versioning"),(0,r.kt)("p",null,"The Internet Protocol is responsible for identifying and locating network devices and routing traffic across the internet."),(0,r.kt)("p",null,"If you enabled both IPv6 and IPv4 during the installation of your node, the command would print out that a rule was added for ",(0,r.kt)("inlineCode",{parentName:"p"},"v6")," connections."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"v6")," suffix in the UFW rules indicates that the rule is applied to IPv6 network traffic. Internet Protocol version 6 is the most recent version of the Internet Protocol. Basic port rules, without any suffix, apply to IPv4 network traffic, the previous version 4."),(0,r.kt)("p",null,"Both are widely used. The primary differences between IPv4 and IPv6 are their address space, addressing mechanisms, and additional features. The expanded address space in IPv6 helps accommodate the growing number of devices connected to the internet. IPv6 also introduces several enhancements over IPv4, such as built-in support for Internet Protocol Security, providing secure, encrypted communication between devices."),(0,r.kt)("h3",{id:"363-firewall-checkup"},"3.6.3 Firewall Checkup"),(0,r.kt)("p",null,"After executing those firewall commands, you do not need to restart the firewall. The changes take effect immediately, and UFW will begin applying the changes according to the new default policy. However, check if the firewall is enabled:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo systemctl is-enabled ufw\n")),(0,r.kt)("p",null,"If the firewall is running, you can check if the firewall is within an ",(0,r.kt)("inlineCode",{parentName:"p"},"active")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"inactive")," status:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo ufw status\n")),(0,r.kt)("h3",{id:"364-enable-firewall"},"3.6.4 Enable firewall"),(0,r.kt)("p",null,"If it should not be inactive, we need to configure it using a symbolic link as before:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo ufw enable\n")),(0,r.kt)("h3",{id:"365-edit-port-rules"},"3.6.5 Edit Port Rules"),(0,r.kt)("p",null,"If you have made some port rules you do not want, print out a list with all existing rules like before."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo ufw status\n")),(0,r.kt)("p",null,"Every row within the list has a number, starting with 1. If you want to delete the rule in the second row, type:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo ufw delete 2\n")),(0,r.kt)("p",null,"If your ports are alright, we can continue setting up the brute force protection to utilize the firewall."))}d.isMDXComponent=!0}}]);