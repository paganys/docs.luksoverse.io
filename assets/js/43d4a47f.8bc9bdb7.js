"use strict";(self.webpackChunkcommunity_docs=self.webpackChunkcommunity_docs||[]).push([[822],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>u});var n=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=c(a),u=o,g=m["".concat(s,".").concat(u)]||m[u]||d[u]||r;return a?n.createElement(g,i(i({ref:t},p),{},{components:a})):n.createElement(g,i({ref:t},p))}));function u(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var c=2;c<r;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},4727:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var n=a(7462),o=(a(7294),a(3905));const r={},i="Enable Alerts",l={unversionedId:"mainnet/complete-node-guide/notifications/telegram-alerts",id:"mainnet/complete-node-guide/notifications/telegram-alerts",title:"Enable Alerts",description:"Grafana can send alerts through various channels, such as Discord, Telegram, or Email when unregular behavior in metrics or reading from Prometheus is recognized. The following will guide will configure Grafana notifications for Telegram.",source:"@site/docs/mainnet/complete-node-guide/8-notifications/01-telegram-alerts.md",sourceDirName:"mainnet/complete-node-guide/8-notifications",slug:"/mainnet/complete-node-guide/notifications/telegram-alerts",permalink:"/docs/mainnet/complete-node-guide/notifications/telegram-alerts",draft:!1,editUrl:"https://github.com/Luksoverse/community-docs/tree/main/packages/create-docusaurus/templates/shared/docs/mainnet/complete-node-guide/8-notifications/01-telegram-alerts.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"8 Grafana Notifications",permalink:"/docs/mainnet/complete-node-guide/notifications/start-here"},next:{title:"Enable Image Alerts",permalink:"/docs/mainnet/complete-node-guide/notifications/image-alerts"}},s={},c=[{value:"8.1.1 Create Telegram Bot",id:"811-create-telegram-bot",level:3},{value:"8.1.2 Create a Group",id:"812-create-a-group",level:3},{value:"8.1.3 Fetching the Chat ID",id:"813-fetching-the-chat-id",level:3},{value:"8.1.4 Add Telegram Contact Points",id:"814-add-telegram-contact-points",level:3},{value:"8.1.5 Update Notification Policies",id:"815-update-notification-policies",level:3},{value:"8.1.6 Add Notifications to Metrics",id:"816-add-notifications-to-metrics",level:3},{value:"8.1.7 Metrics Presets",id:"817-metrics-presets",level:3},{value:"Consensus Process Down",id:"consensus-process-down",level:4},{value:"Validator Process Down",id:"validator-process-down",level:4},{value:"Consensus Process Restarted",id:"consensus-process-restarted",level:4},{value:"Validator Process Restarted",id:"validator-process-restarted",level:4},{value:"Below 40 Peers",id:"below-40-peers",level:4},{value:"Participation Rate below 80%",id:"participation-rate-below-80",level:4},{value:"50 Slots Behind",id:"50-slots-behind",level:4},{value:"No Hourly Earnings",id:"no-hourly-earnings",level:4},{value:"Less than 2GB Free Memory",id:"less-than-2gb-free-memory",level:4},{value:"CPU Usage above 40%",id:"cpu-usage-above-40",level:4},{value:"Disk Usage above 60%",id:"disk-usage-above-60",level:4},{value:"CPU Temperature above 75 \xb0C",id:"cpu-temperature-above-75-c",level:4},{value:"Google Ping above 30ms",id:"google-ping-above-30ms",level:4},{value:"8.1.8 Configuring Notfication Intervals",id:"818-configuring-notfication-intervals",level:3}],p={toc:c};function d(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"enable-alerts"},"Enable Alerts"),(0,o.kt)("p",null,"Grafana can send alerts through various channels, such as Discord, Telegram, or Email when unregular behavior in metrics or reading from Prometheus is recognized. The following will guide will configure Grafana notifications for Telegram."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"It is convenient to temporarily open a text editor to store information needed for these steps.")),(0,o.kt)("h3",{id:"811-create-telegram-bot"},"8.1.1 Create Telegram Bot"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"You need a ",(0,o.kt)("a",{parentName:"p",href:"https://telegram.org/"},"Telegram")," account in order to continue.")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Open the web-based or Desktop version of Telegram."),(0,o.kt)("li",{parentName:"ol"},"Click on this link ",(0,o.kt)("a",{parentName:"li",href:"https://t.me/botfather"},"https://t.me/botfather")," and allow the BotFather application to open Telegram."),(0,o.kt)("li",{parentName:"ol"},"A BotFather channel will open."),(0,o.kt)("li",{parentName:"ol"},"Type ",(0,o.kt)("inlineCode",{parentName:"li"},"/newbot")," in the message line"),(0,o.kt)("li",{parentName:"ol"},"Send off the message"),(0,o.kt)("li",{parentName:"ol"},"Choose a full name for your bot."),(0,o.kt)("li",{parentName:"ol"},"Choose a user name for your bot. The name must end with ",(0,o.kt)("inlineCode",{parentName:"li"},"bot")),(0,o.kt)("li",{parentName:"ol"},"A message will appear with information about your bot."),(0,o.kt)("li",{parentName:"ol"},"Highlight and copy the API token, then paste it into your text editor.")),(0,o.kt)("h3",{id:"812-create-a-group"},"8.1.2 Create a Group"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Open the Telegram menu."),(0,o.kt)("li",{parentName:"ol"},"Set up a new group."),(0,o.kt)("li",{parentName:"ol"},"Choose a name for the group."),(0,o.kt)("li",{parentName:"ol"},"Add your bot to the group by typing the exact ",(0,o.kt)("em",{parentName:"li"},"username")),(0,o.kt)("li",{parentName:"ol"},"Select the user when it appears in the list and click ",(0,o.kt)("inlineCode",{parentName:"li"},"create")),(0,o.kt)("li",{parentName:"ol"},"Send a message ",(0,o.kt)("inlineCode",{parentName:"li"},"/my_id")," to trigger the API refresh"),(0,o.kt)("li",{parentName:"ol"},"Copy ",(0,o.kt)("inlineCode",{parentName:"li"},"https://api.telegram.org/bot<your-bot-api-token>/getUpdates")," to a text document."),(0,o.kt)("li",{parentName:"ol"},"Replace ",(0,o.kt)("inlineCode",{parentName:"li"},"<your-bot-api-token>")," with your token ID of the bot")),(0,o.kt)("h3",{id:"813-fetching-the-chat-id"},"8.1.3 Fetching the Chat ID"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Copy the link you just edited into a web browser."),(0,o.kt)("li",{parentName:"ol"},"Look for text that says ",(0,o.kt)("inlineCode",{parentName:"li"},'{"id"}:')),(0,o.kt)("li",{parentName:"ol"},"Copy and paste the ",(0,o.kt)("inlineCode",{parentName:"li"},"id")," into your notes.")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Ensure your Chat ID is fully copied. It might have a ",(0,o.kt)("inlineCode",{parentName:"p"},"-")," in front.")),(0,o.kt)("h3",{id:"814-add-telegram-contact-points"},"8.1.4 Add Telegram Contact Points"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Return to Grafana")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Login using your credentials")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"On the left-hand menu, click ",(0,o.kt)("inlineCode",{parentName:"p"},"Alerting"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click the ",(0,o.kt)("inlineCode",{parentName:"p"},"Contact Points")," on the left side")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("inlineCode",{parentName:"p"},"Add contact point"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click on ",(0,o.kt)("inlineCode",{parentName:"p"},"Add channel"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Fill in the following information:"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Name"),": Your Notification Channel Name"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Integration:")," Telegram"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"BOT API Token:")," Your copied BOT API Token"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Chat ID:")," The copied Chat ID"))),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("inlineCode",{parentName:"p"},"Test")," within the Integration Panel.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Wait until you see a new message in Telegram.")),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},"Click ",(0,o.kt)("inlineCode",{parentName:"p"},"Save contact point"),"."))),(0,o.kt)("h3",{id:"815-update-notification-policies"},"8.1.5 Update Notification Policies"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"On the left-hand menu, click ",(0,o.kt)("inlineCode",{parentName:"li"},"Alerting")),(0,o.kt)("li",{parentName:"ol"},"Click the ",(0,o.kt)("inlineCode",{parentName:"li"},"Notification policies")," on the left side"),(0,o.kt)("li",{parentName:"ol"},"On the right of the default notification, click the 3-dot-menu and chose ",(0,o.kt)("inlineCode",{parentName:"li"},"Edit")),(0,o.kt)("li",{parentName:"ol"},"Change ",(0,o.kt)("inlineCode",{parentName:"li"},"Default contact point")," to Telegram's Contact Point"),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("inlineCode",{parentName:"li"},"Update default policy"))),(0,o.kt)("h3",{id:"816-add-notifications-to-metrics"},"8.1.6 Add Notifications to Metrics"),(0,o.kt)("p",null,"In order to make sure that the node notifies you if some process is down, follow these steps. If something is unclear, you can have a look at the picture of each alert down below."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Make sure to get the latest dashboard of this guide, before continuing.")),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Click the Granfana Icon to get to the landing page."),(0,o.kt)("li",{parentName:"ol"},"Click the LUKSO Dashboard."),(0,o.kt)("li",{parentName:"ol"},"Scroll down to the dashboard's ",(0,o.kt)("inlineCode",{parentName:"li"},"Alerts")," section."),(0,o.kt)("li",{parentName:"ol"},"Select each alert and click ",(0,o.kt)("inlineCode",{parentName:"li"},"Edit")," on the 3-dot-menu."),(0,o.kt)("li",{parentName:"ol"},"Within the ",(0,o.kt)("inlineCode",{parentName:"li"},"Alert")," tab, select ",(0,o.kt)("inlineCode",{parentName:"li"},"Create alert rule from this panel")," if you do not already see a alert panel on the page that you can click on. Do not worry if you need to create it first, as this is the default behavior since you will have to create folders and groups first."),(0,o.kt)("li",{parentName:"ol"},"Click ",(0,o.kt)("inlineCode",{parentName:"li"},"Preview")," to print out the graph to evaluate metric numbers."),(0,o.kt)("li",{parentName:"ol"},"Adjust the ",(0,o.kt)("inlineCode",{parentName:"li"},"Threshold")," section to your likings on when the alert should happen."),(0,o.kt)("li",{parentName:"ol"},"In case the ",(0,o.kt)("inlineCode",{parentName:"li"},"Reduce")," section is showing multiple lines and one of them is ",(0,o.kt)("inlineCode",{parentName:"li"},"NaN"),", set ",(0,o.kt)("inlineCode",{parentName:"li"},"Replace Non-numeric Values")," with a custom number above the alert range. For single line metrics that rely on clients or the network, its recommended to set a ",(0,o.kt)("inlineCode",{parentName:"li"},"NaN")," number within the alert range, meaning that an alert is sent when the process or network is currently down."),(0,o.kt)("li",{parentName:"ol"},"Within the ",(0,o.kt)("inlineCode",{parentName:"li"},"Alert evaluation behavior")," section, add a ",(0,o.kt)("inlineCode",{parentName:"li"},"node-alerts")," folder where all the alert data will be stored. If it is already existing, select it from the panel. You can change the name of the folder of your likings, it is just to group alert's data. Its recommended to always choose the same name for one network, node or validator, so you do not mix up various targets and dashboards."),(0,o.kt)("li",{parentName:"ol"},"Within the ",(0,o.kt)("inlineCode",{parentName:"li"},"Evaluation group")," selection, add a ",(0,o.kt)("inlineCode",{parentName:"li"},"node-group"),". If it is already existing, select it from the panel. You can change the name of the group of your likings, it is just to group alert's data. Its recommended to always choose the same name for one network, node or validator, so you do not mix up various targets and dashboards."),(0,o.kt)("li",{parentName:"ol"},"Scroll up and click ",(0,o.kt)("inlineCode",{parentName:"li"},"Save")),(0,o.kt)("li",{parentName:"ol"},"Repeat this for every Alert on the Dashboard.")),(0,o.kt)("h3",{id:"817-metrics-presets"},"8.1.7 Metrics Presets"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Grafana Alert Board",src:a(1163).Z,width:"1697",height:"819"})),(0,o.kt)("p",null,"Here are some example metrics that are included in the default dashboard. You can check the picures and validate if everything is configured the same way as in the guide."),(0,o.kt)("h4",{id:"consensus-process-down"},"Consensus Process Down"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"1: Process up\n0: Process down\n")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Consensus Process Down Metric",src:a(3899).Z,width:"1391",height:"833"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},'up{job="consensus-client-job"}\n')),(0,o.kt)("h4",{id:"validator-process-down"},"Validator Process Down"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"1: Process up\n0: Process down\n")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Validator Process Down Metric",src:a(9777).Z,width:"1391",height:"833"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},'up{job="validator-client-job"}\n')),(0,o.kt)("h4",{id:"consensus-process-restarted"},"Consensus Process Restarted"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"1:   Process up\n0:   Process down\nNaN: Not available (likely down --\x3e 0)\n")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Consensus Process Restarted Metric",src:a(9162).Z,width:"1391",height:"833"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},'(time()-process_start_time_seconds{job="consensus-client-job"})/3600\n')),(0,o.kt)("h4",{id:"validator-process-restarted"},"Validator Process Restarted"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"1:   Process up\n0:   Process down\nNaN: Not available (likely down --\x3e 0)\n")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Validator Process Restarted Metric",src:a(4966).Z,width:"1391",height:"833"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},'(time()-process_start_time_seconds{job="validator-client-job"})/3600\n')),(0,o.kt)("h4",{id:"below-40-peers"},"Below 40 Peers"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"above 30: Ideal healthy connections\nbelow 30: Resyncing or weak connections\nNaN:      Not available (no connections --\x3e 0)\n")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Below 40 Peers Metric",src:a(7924).Z,width:"1391",height:"833"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},'p2p_peer_count{state="Connected",job="consensus-client-job"}\n')),(0,o.kt)("h4",{id:"participation-rate-below-80"},"Participation Rate below 80%"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"above 80: Ideal healthy network\nbelow 80: Unstable network\nNaN:      2nd data feed (ignore metric --\x3e 100)\n")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Participation Rate below 80% Metric",src:a(9402).Z,width:"1391",height:"862"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"beacon_prev_epoch_target_gwei / beacon_prev_epoch_active_gwei * 100\n")),(0,o.kt)("h4",{id:"50-slots-behind"},"50 Slots Behind"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"below 50: Ideal syncing speed\nabove 50: Unstable syncing\nNaN:      Not available (likely unstable --\x3e 51)\n")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"50 Slots Behind Metric",src:a(4738).Z,width:"1391",height:"862"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"beacon_clock_time_slot-beacon_head_slot\n")),(0,o.kt)("h4",{id:"no-hourly-earnings"},"No Hourly Earnings"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"above 0,0001: Earning rewards\nbelow 0,0001: Syncing or negative rewards\nNaN:          Not available (likely negative rewards --\x3e 0)\n")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"No Hourly Earnings Metric",src:a(7244).Z,width:"1391",height:"844"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"sum(validator_balance) - sum(validator_balance offset 1h) - count(validator_balance > 16)*32 + count(validator_balance offset 1h > 0)*32\n")),(0,o.kt)("h4",{id:"less-than-2gb-free-memory"},"Less than 2GB Free Memory"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"above 2000000000: More than 2GB remaining\nbelow 2000000000: Less than 2GB remaining\n")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Less than 2GB Free Memory Metric",src:a(9918).Z,width:"1391",height:"844"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},'(node_memory_MemFree_bytes{job="node-exporter-job"} or node_memory_MemFree{job="node-exporter-job"}) + (node_memory_Cached_bytes{job="node-exporter-job"} or node_memory_Cached{job="node-exporter-job"})\n')),(0,o.kt)("h4",{id:"cpu-usage-above-40"},"CPU Usage above 40%"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"above 4: More than 40% of computation resources used\nbelow 4: Less than 40% of computation resources used\n")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"CPU Usage above 40% Metric",src:a(9077).Z,width:"1391",height:"844"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},'sum(irate(node_cpu_seconds_total{mode="user",job="node-exporter-job"}[5m])) or sum(irate(node_cpu{mode="user",job="node-exporter-job"}[5m]))\n')),(0,o.kt)("h4",{id:"disk-usage-above-60"},"Disk Usage above 60%"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"above 0,6: Disk more than 60% occupied by tasks\nbelow 0,6: Disk less than 60% occupied by tasks\n")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Disk Usage above 60% Metric",src:a(8583).Z,width:"1391",height:"844"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},'(sum(node_filesystem_size_bytes{job="node-exporter-job"})-sum(node_filesystem_avail_bytes{job="node-exporter-job"}))/sum(node_filesystem_size_bytes{job="node-exporter-job"})\n')),(0,o.kt)("h4",{id:"cpu-temperature-above-75-c"},"CPU Temperature above 75 \xb0C"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"above 75: Processor is running hot\nbelow 75: Processor is running normally\n")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"CPU Temperature above 75 \xb0C Metric",src:a(9028).Z,width:"1391",height:"844"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},'node_hwmon_temp_celsius{chip="platform_coretemp_0",job="node-exporter-job",sensor="temp1"}\n')),(0,o.kt)("h4",{id:"google-ping-above-30ms"},"Google Ping above 30ms"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"above 0,03: Connection takes longer than 30ms, not ideal\nbelow 0,03: Connection takes less than 30ms, everything alright\n")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Google Ping above 30ms Metric",src:a(1829).Z,width:"1391",height:"844"})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},'probe_duration_seconds{job="google-ping-job"}\n')),(0,o.kt)("h3",{id:"818-configuring-notfication-intervals"},"8.1.8 Configuring Notfication Intervals"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Head over to the ",(0,o.kt)("inlineCode",{parentName:"li"},"Alerting")," section on the left menu."),(0,o.kt)("li",{parentName:"ol"},"Click on ",(0,o.kt)("inlineCode",{parentName:"li"},"Notification policies"),"."),(0,o.kt)("li",{parentName:"ol"},"Click the 3-dot-menu on the default notification channel."),(0,o.kt)("li",{parentName:"ol"},"Choose ",(0,o.kt)("inlineCode",{parentName:"li"},"Edit")," within the popup."),(0,o.kt)("li",{parentName:"ol"},"Expand the ",(0,o.kt)("inlineCode",{parentName:"li"},"Timing Options")," field")),(0,o.kt)("p",null,"The window should look similar to this one, to send one notification every 5 minutes and refresh existing errors every 10 minutes. Grafana 9 will also send you and ",(0,o.kt)("inlineCode",{parentName:"p"},"resolved")," message if the alarm is not present anymore."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Grafana Alert Interval",src:a(6677).Z,width:"1275",height:"823"})))}d.isMDXComponent=!0},1163:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana-alerts-1-1391fa8b4a87b8bd421b078da6ae088d.png"},9918:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana-alerts-10-e72e96f53466ffaace7a3c535acb6bed.png"},9077:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana-alerts-11-fadf80ae175d7ad80088abe786c61c58.png"},8583:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana-alerts-12-d900fba8315f08cb50db97de8252a89c.png"},9028:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana-alerts-13-d910be5aaf9719593d623e7977a5e897.png"},1829:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana-alerts-14-dbe613033b35f5bf673048c6355c0059.png"},6677:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana-alerts-15-1cbb74cdebaadb50f9392dc3d1f3cbf3.png"},3899:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana-alerts-2-ad062ff81b1b54e12f738d3193090648.png"},9777:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana-alerts-3-898282200860cb887abf8789a4648993.png"},9162:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana-alerts-4-ab08bb337950f03dfe833e004dc7ebf0.png"},4966:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana-alerts-5-b77530a6557739d2aa00dc8ec5e49610.png"},7924:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana-alerts-6-78b0ae31f622396ba0c5a9afd03ac363.png"},9402:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana-alerts-7-ed6ec4dd32bfcea2eb42cd8db2ff9b6e.png"},4738:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana-alerts-8-f31e3d59cee48af53db57a90b7be36db.png"},7244:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafana-alerts-9-a867d23e19a708bbdb7c0f6da6dcc07f.png"}}]);